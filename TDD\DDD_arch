app/
├── main.py                  # Точка входа (FastAPI, подключение роутеров)
│
├── api/                     # Внешний слой (контракты: request/response)
│   ├── v1/
│   │   ├── endpoints/       # эндпоинты (users.py, auth.py и т.п.)
│   │   └── schemas/         # Pydantic DTO (UserCreate, UserOut)
│   └── deps.py              # зависимости (Depends)
│
├── core/                    # ядро (настройки, конфиг, middleware)
│   ├── config.py
│   └── security.py
│
├── domain/                  # бизнес-домены (чистые модели и правила)
│   └── users/               
│       ├── entities.py      # сущности (User)
│       ├── services.py      # бизнес-логика (UserService)
│       └── exceptions.py
│
├── infrastructure/          # инфраструктура (БД, внешние сервисы)
│   ├── db/
│   │   ├── base.py
│   │   ├── session.py
│   │   └── repositories.py  # реализация UserRepository
│   └── email/               # например, SMTP-отправка
│
└── tests/                   # тесты
    ├── unit/                # тесты domain/services (TDD начинается здесь)
    │   └── test_user_service.py
    ├── integration/         # api + repo
    │   └── test_user_api.py
    └── e2e/                 # сценарии пользователя (регистрация -> логин)
