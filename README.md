| Категория                          | Паттерн                               | Описание                                                               | Преимущества                                                      | Недостатки                                                     |
| ---------------------------------- | ------------------------------------- | ---------------------------------------------------------------------- | ----------------------------------------------------------------- | -------------------------------------------------------------- |
| **Композиция сервисов**            | API Gateway                           | Все запросы идут через один входной сервис                             | Централизованная маршрутизация, аутентификация, кэширование       | Точка отказа, нужна высокая доступность                        |
|                                    | Backend for Frontend (BFF)            | Разные шлюзы под разные клиенты (веб, мобильные)                       | Оптимизация ответов под конкретное приложение                     | Дополнительная поддержка нескольких шлюзов                     |
| **Взаимодействие между сервисами** | Синхронное (HTTP/REST, gRPC)          | Сервисы напрямую вызывают друг друга                                   | Просто отлаживать, понятно поведение                              | Повышенная связность, сбой одного сервиса влияет на другие     |
|                                    | Асинхронное (Messaging, Event-driven) | Используются брокеры (Kafka, RabbitMQ), публикация/подписка на события | Слабая связность, проще масштабировать                            | Сложнее отслеживать последовательность, консистентность данных |
| **Оркестрация vs Хореография**     | Оркестрация                           | Центральный сервис управляет всеми шагами бизнес-процесса              | Удобно управлять процессом                                        | Центральное узкое место                                        |
|                                    | Хореография                           | Каждый сервис реагирует на события самостоятельно                      | Нет центрального узкого места, подходит для распределённых систем | Сложнее отлаживать цепочки событий                             |
| **Управление данными**             | Database per Service                  | Каждый сервис имеет свою БД                                            | Изоляция, независимое масштабирование                             | Сложнее обеспечить транзакционную согласованность              |
|                                    | Saga Pattern                          | Последовательность локальных транзакций с компенсацией                 | Обработка ошибок и откат шагов                                    | Сложность реализации, отслеживания                             |
| **Сопровождение и надежность**     | Circuit Breaker                       | Разрывает связь с падающим сервисом на время                           | Защищает систему от каскадных сбоев                               | Настройка порогов и мониторинга                                |
|                                    | Retry / Timeout                       | Автоматические повторы при сбоях                                       | Повышает надежность                                               | Возможны задержки и повторные нагрузки                         |
|                                    | Bulkhead                              | Изоляция ресурсов сервисов                                             | Сбой одного сервиса не влияет на другие                           | Дополнительная сложность архитектуры                           |
| **Другие полезные паттерны**       | Sidecar                               | Дополнительный контейнер рядом с сервисом                              | Логирование, мониторинг, прокси                                   | Усложняет деплой                                               |
|                                    | Adapter / Anti-Corruption Layer       | Слой для взаимодействия с внешними или устаревшими системами           | Защищает систему от "грязного" кода                               | Добавляет уровень абстракции                                   |
|                                    | Strangler Fig                         | Постепенная замена монолита микросервисами                             | Миграция без остановки системы                                    | Потребуется поддержка старой и новой системы одновременно      |
