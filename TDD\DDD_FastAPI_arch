app/
├── main.py                       # FastAPI, подключение роутеров
│
├── api/                          # внешний слой
│   ├── v1/
│   │   ├── endpoints/            # users.py, auth.py, ...
│   │   └── schemas/              # DTO (Pydantic)
│   └── deps.py                   # зависимости (DI для сервисов)
│
├── domain/                       # бизнес-домены
│   └── users/
│       ├── entities.py
│       ├── services.py
│       └── exceptions.py
│
├── infrastructure/               # инфраструктура
│   ├── db/                       # PostgreSQL
│   │   ├── config.py             # настройки Postgres
│   │   ├── session.py            # подключение к БД
│   │   └── repositories.py
│   │
│   ├── redis/
│   │   ├── config.py             # настройки Redis
│   │   ├── client.py             # создание redis-клиента
│   │   └── cache_service.py      # UserCacheService
│   │
│   ├── kafka/
│   │   ├── config.py             # настройки Kafka
│   │   ├── producer.py
│   │   ├── consumer.py
│   │   └── events_service.py     # EventService
│   │
│   └── email/
│       ├── config.py             # SMTP настройки
│       └── sender.py
│
└── tests/
    ├── unit/
    ├── integration/
    └── e2e/
